# 모듈의 상세도를 고려한다.

## 다시 한 번 모듈이란

모듈이 무엇인지 다시 한번 정의해 보면 스타일이나 상세도(크기, 단위) 등 웹사이트에 따라 매우 다양하지만 공통적인 것은 '재사용을 전제로 하는 한 덩어리의 단위'라는 것이다. 이 모듈이라는 개념이 있기에 같은 코드를 여러 차례 작성하지 않고 효율적으로 웹 개발을 할 수 있다.

## 모듈의 상세도 불균일함으로 인해 일어나는 문제

모듈을 확실하게 정의하고 운용하면 웹 개발에 극적인 효과를 가져다 준다. 그러나 이를 누리기 위해서는 상세도의 문제를 넘어야 한다. 대부분의 사람들은 공통적으로 '웹사이트 안에서 반복해 등장하는 스타일은 가능한 재사용하고 싶다'고 생각한다. 하지만 '한 모듈의 범위를 어디까지로 볼 것인가'에 관한 생각은 서로 상당히 다르다.

그림 2-20 같은 미디어 모듈의 경우를 생각해보자.

두 명의 프로그래머(A와 B)가 있다고 가정하자. A는 '이것은 하나의 모듈로 이루어진 것이다'라고 생각한다. 상세도는 그림 2-21과 같다.

한편 B는 '미디어 모듈 안에 버튼이 있다. 그러므로 이것은 두 개의 모듈이다'라고 생각했다. 버튼(여기에서는 임의로 .el_btn이라고 한다)이 .bl_halfMedia 안에 삽입되어 있다는 관점이다. .el_btn은 어디까지나 독립된 모듈이므로 .bl_halfMedia와 관계없는 위치에서도 자유롭게 사용할 수 있다.

이처럼 [상세도]에 대한 인식에 차이가 있으면 한 클래스의 크기, 다시 말해 코드의 구현 방법에도 차이가 생긴다. 한 프로젝트 안에서 상세도에 관한 여러가지 인식이 존재한다면 분명 코드의 품질이 떨어지고 혼란도 발생하므로 바람직하지 않다.

또한 이 인식의 차이는 웹사이트를 실제로 표시하는 것과도 관계가 있다. 예를 들어, 이미 버튼을 독립적으로 구현한 상태에서 A가 나중에 합류했다고 가정하자. 이후 '버튼 색상을 파란색으로 바꾸고' 싶을 경우, 모듈 상세도에 대한 인식이 일치한 상태라면 .el_btn 클래스만 변경하면 수월하게 작업을 완료할 수 있다. 하지만 인식이 다른 A는 이미지, 텍스트, 버튼을 포함한 한 세트의 모듈을 만들어 .bl_halfMedia를 직접 구현하게 되므로, .el_btn을 파란색으로 변경하더라도 .bl_halfMedia의 버튼변경되지 않는다. 이를 깨닫지 못하면 '버튼 색상이 분명 파란색으로 바뀌어야 하는데 그대로 주황색을 유지하고 있는' 문제가 일어나게 되는 것이다.

코딩 작업을 한 사람이 수행하는 경우에는 이런 문제를 고려할 필요가 없지만, 여러 엔지니어와 함께 프로젝트를 진행하는 경우에는 '무엇이 모듈이 되는가', '어디까지의 상세도를 하나의 모듈에 담을까'에 관해 서로 확실히 합의함으로써 인식을 맞추는 것이 좋다.

## 모듈 상세도에 관한 지침

앞에서의 내용을 바탕으로 모듈 상세도에 관한 지침을 소개합니다만, '이 방법이 절대적으로 옳다'는 것은 아님을 먼저 알아주시길 바란다. 프로젝트의 성격에 따라 모듈의 상세도를 최적화 하는 방법도 각각 다르다. 하지만 필자의 경험에 따르면 최소한 다음과 같은 두 가지 단위를 강하게 의식할 것을 권장한다.

-   최소 모듈 ..... 버튼이나 라벨, 타이틀 등 간단한 요소(5장에서 설명)
-   복합 모듈 ..... 몇 가지 요소를 포함한 한 덩어리로서의 요소(6장에서 설명)

이 두 가지는 1장에서 소개한 아토믹 디자인과도 통하는 바가 있다. 최소 모듈은 아토믹 디자인의 원자(Atoms), 복합 모듈은 분자(Molecules)나 유기체(Organisms)에 해당한다고 할 수 있다. 예를 들어, 그림 2-23의 미디어 모듈은 '간단한 하나의 복합 모듈'이 아니라 B의 인식처럼 '복합 모듈 안에 최소 모듈이 삽입되어 있는 상태로 볼 수 있다.

그림 2-23
: 최소 모듈이 복합 모듈 안에 삽입된 미디어 모듈

이와 같이 버튼을 최소 모듈로 독립시켜 생각하면, 미디어 모듈 바깥에서도 버튼을 사용할 수 있도록 CSS를 설계할 수 있는 길이 보인다. 이 최소 모듈과 복합 모듈의 구별 및 조합에 관해서는 5장과 7장에서 설명한다.

또한 모듈을 사용한 디자인에서 자주 보이는 것이 칼럼을 만드는 패턴이다. 말럼을 만드는 경우에는 반복해서 나타나는 모듈과 칼럼을 만들기 위한 모듈을 별도로 구현하는 것이 가장 바람직하다.(6장 카드 모듈 절에서 설명한다.)

간혹 CSS 설계 기법에 따라서는 모듈 상세도를 규칙으로 명확하게 규정하기도(PRECSS 등) 한다. 해당 경우에는 가능한 설계 기법의 규칙에 따라야 할 것이다. 실제 기법은 사람에 따른 차이를 가능한 없애기 위해 존재하므로 자신의 마음대로 수정하는 것은 권장하지 않는다. 부득이 수정을 해야만 하는 경우 반드시 문서로 남기자.

# CSS 설계의 필요성

지금까지 모듈의 상세도에 관한 내용과 CSS 설계의 여덟가지 포인트를 소개했는데, '한층 코드를 복잡하게 만드는 것뿐 아닌가?'라고 고개를 갸우뚱 할 수도 있다. 결국 CSS설계의 필요 여부는 프로젝트의 특성에 달려있다. 예를 들어, 일주일 동안만 공개하는 1페이지 짜리와 같은 캠페인 페이지의 경우에는 극단적인 이야기지만 CSS 설계가 필요 없다.

하지만 페이지 수가 백여 페이지에 이르는 중간 규모 이상의 안건에 관해서는 'CSS설계를 지나칠 정도로 꼼꼼하게 해야 한다' 정도로 각인하는 것이 좋다. 이 정도 규모가 되면 반드시 모듈에서 고려하지 않았던 방식으로 사용하는 일도 벌어지기 시작하기 때문에 기능을 적절하게 분리해 두는 것이 대단히 좋다.

CSS 설계에 관해 다음과 같이 확실히 말할 수 있따.

-   작은 규모의 사이트를 고려한 코드를 중간 규모 이상의 프로젝트에 그대로 적용해서는 안 된다.(반드시 파탄이 난다.)
-   중간 규모 이상의 사이트를 고려해 CSS를 설계한 코드를 작은 규모의 프로젝트에 그대로 적용할 수는 있다.
-   갑자기 중간 규모의 사이트에서 CSS 설계를 적용하려 해도 곧바로는 잘 되지 않는다.

언젠가는 반드시 올 그날을 위해, 규모가 작은 프로젝트부터라도 중간 규모 이상의 웹사이트를 의식해 CSS 설계를 연습해 둘 것. 물론 처음에는 어렵게 느껴지겠지만 익숙해지면 시야가 넓어지고 이제까지와는 전혀 다른 상세도의 디자인 구성이 가능해질 것이다. 무엇보다 여러분이 의도한 대로 설계할 수 있고 갑작스러운 변경에도 견딜 수 있는 웹사이트를 만들었을 때의 기쁨은 남다를 것이다.

## CSS 설계도 결국은 작은 일의 반복이다. 한 번에 되지 않더라도 초조해하지 말고 서서히 익혀가자.
